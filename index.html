<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ANTICEO</title>
<style>
body {
    background:#000;
    color:#fff;
    font-family:Georgia,serif;
    max-width:1200px;
    margin:0 auto;
    padding:8px 12px;
  }
  header {
    margin:8px 0 12px;
  }
  header h1 {
    font-size:2.5rem;
    text-align:center;
    margin:10px 0;
    font-weight:bold;
    letter-spacing:2px;
  }
  header h1 a {
    color:#fff;
    text-decoration:none;
  }
  header h1 a:hover {
    text-decoration:underline;
  }
  /* Add a highlight style for the CHUDS vs SHITLIBS line */
  .headline-banner {
    text-align:center;
    font-size:2.2rem;
    font-weight:900;
    color:#fff;
    margin:25px 0;
    text-transform:uppercase;
  }

  #news-columns {
    display: grid;
    grid-template-columns: 1fr;
    gap: 12px;
  }

  @media (min-width:1024px) {
    #news-columns {
      grid-template-columns: 1fr 1fr 1fr;
    }
  }

  ul {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  li {
    margin: 6px 0;
    line-height: 1.3;
  }

  a {
    text-decoration: underline;
    color: #fff;
  }

  a:hover {
    text-decoration: none;
    color: #ccc;
  }

  .source {
    opacity: .7;
  }

  footer {
    margin: 24px 0 8px;
    font-size: .85rem;
    opacity: .7;
    text-align: center;
    color: #aaa;
  }
 </style>
</head>
<body>
  <header id="headline"><h1>ANTICEO</h1><hr></header>
  <main id="news-columns"></main>
  <footer>Updated automatically by CLASSWARFARE servers</footer>

<script>
  // Static text replacement
  const data = {
    headline: { title: "ANTICEO", url: "https://anticeo.com" },
    items: [
      { title: "Chuds vs Shitlibs", url: "#", source: "" },
      { title: "Culture war", url: "#", source: "" },
      { title: "Military Industrial Complex", url: "#", source: "" },
      { title: "Para Political Intrigue", url: "#", source: "" }
    ]
  };

  const toCaps = s => (s || "").toUpperCase();

  // HEADLINE
  document.getElementById("headline").innerHTML =
    `<h1><a href="${data.headline.url}" rel="noopener">${toCaps(data.headline.title)}</a></h1><hr>`;

  // ITEMS
  const cols = document.getElementById("news-columns");
  const ul = document.createElement("ul");
  data.items.forEach(it => {
    const li = document.createElement("li");
    li.innerHTML = `<a href="${it.url}" rel="noopener">${toCaps(it.title)}</a>`;
    ul.appendChild(li);
  });
  cols.appendChild(ul);

  const DATA_URL = "./anticeo-news.json";
  const toCaps = s => (s || "").toUpperCase();

  fetch(DATA_URL + "?t=" + Date.now())
    .then(r => r.json())
    .then(data => {
      if (data.headline?.title && data.headline?.url) {
        document.getElementById("headline").innerHTML =
          `<h1><a href="${data.headline.url}" rel="noopener">${toCaps(data.headline.title)}</a></h1><hr>`;
      }

      const container = document.getElementById("news-columns");
      container.innerHTML = "";

      (data.sections || []).forEach(sec => {
        const h = document.createElement("h2");
        h.textContent = toCaps(sec.title || "");
        h.style.textAlign = "center";
        h.style.margin = "18px 0 8px";
        h.style.fontSize = "1.2rem";
        h.style.letterSpacing = "1px";
        container.appendChild(h);

        const ul = document.createElement("ul");
        (sec.items || []).forEach(it => {
          const li = document.createElement("li");
          const title = toCaps(it.title || "");
          const url = it.url || "#";
          const src = it.source ? ` <span class="source">(${it.source})</span>` : "";
          li.innerHTML = `<a href="${url}" rel="noopener">${title}</a>${src}`;
          ul.appendChild(li);
        });
        container.appendChild(ul);
      });
    })
    .catch(e => {
      document.getElementById("news-columns").innerHTML = "<p>Feed unavailable.</p>";
      console.error(e);
    });
</script>
</body>
</html>
