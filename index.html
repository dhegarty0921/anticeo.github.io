<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ANTICEO</title>
<style>
body {
    background:#000;
    color:#fff;
    font-family:Georgia,serif;
    max-width:1200px;
    margin:0 auto;
    padding:8px 12px;
  }
  header {
    margin:8px 0 12px;
  }
  header h1 {
    font-size:2.5rem;
    text-align:center;
    margin:10px 0;
    font-weight:bold;
    letter-spacing:2px;
  }
  header h1 a {
    color:#fff;
    text-decoration:none;
  }
  header h1 a:hover {
    text-decoration:underline;
  }
  /* Add a highlight style for the CHUDS vs SHITLIBS line */
  .headline-banner {
    text-align:center;
    font-size:2.2rem;
    font-weight:900;
    color:#fff;
    margin:25px 0;
    text-transform:uppercase;
  }

  #news-columns {
    display: grid;
    grid-template-columns: 1fr;
    gap: 12px;
  }

  @media (min-width:1024px) {
    #news-columns {
      grid-template-columns: 1fr 1fr 1fr;
    }
  }

  ul {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  li {
    margin: 6px 0;
    line-height: 1.3;
  }

  a {
    text-decoration: underline;
    color: #fff;
  }

  a:hover {
    text-decoration: none;
    color: #ccc;
  }

  .source {
    opacity: .7;
  }

  footer {
    margin: 24px 0 8px;
    font-size: .85rem;
    opacity: .7;
    text-align: center;
    color: #aaa;
  }
 </style>
</head>
<body>
  <header id="headline"><h1>ANTICEO</h1><hr></header>
  <main id="news-columns"></main>
  <footer>Updated automatically by CLASSWARFARE servers</footer>

<script>
  const ORDER = [
    "CHUDS VS SHITLIBS",
    "CULTURE WAR",
    "MILITARY INDUSTRIAL COMPLEX",
    "PARA POLITICAL INTRIGUE"
  ];

  fetch("./anticeo-news.json?t=" + Date.now())
    .then(r => r.json())
    .then(data => {
      // headline as you already had it â€¦
      const container = document.getElementById("news-columns");
      container.innerHTML = "";

      // map by title for stable ordering
      const map = Object.fromEntries((data.sections||[]).map(s => [s.title, s]));
      const sections = ORDER.map(k => map[k]).filter(Boolean);

      sections.forEach(sec => {
        const count = (sec.items || []).length;
        const h = document.createElement("h2");
        h.textContent = `${sec.title} (${count})`;
        h.style.textAlign = "center";
        h.style.margin = "18px 0 8px";
        h.style.fontSize = "1.2rem";
        h.style.letterSpacing = "1px";
        container.appendChild(h);

        const ul = document.createElement("ul");
        (sec.items || []).forEach(it => {
          const li = document.createElement("li");
          li.innerHTML = `<a href="${it.url || '#'}" rel="noopener">${(it.title||'').toUpperCase()}</a>` +
                         (it.source ? ` <span class="source">(${it.source})</span>` : "");
          ul.appendChild(li);
        });
        container.appendChild(ul);
        container.appendChild(document.createElement("hr")); // thin divider
      });
    });
</script>
</body>
</html>
